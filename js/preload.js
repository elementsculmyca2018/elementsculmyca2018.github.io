!function(r){function t(n,o){this.imgs="string"==typeof n?[n]:n,this.opts=r.extend({},this.DEFAULTS,o),this.opts.ordered?this._ordered():this._unordered()}t.DEFAULTS={ordered:!0,eachOnLoad:null,allOnLoad:null},t.prototype={_unordered:function(){var n=this.imgs,e=this.opts,a=0,i=n.length;r.each(n,function(n,o){if("string"==typeof o){var t=new Image;r(t).on("load error",function(){e.eachOnLoad&&e.eachOnLoad(++a),i<=a&&e.allOnLoad&&e.allOnLoad()}),t.src=o}})},_ordered:function(){var t=this.imgs,e=(this.opts,0),a=t.length;!function n(){var o=new Image;r(o).on("load error",function(){a<=++e?this.allOnLoad&&this.allOnLoad():(this.eachOnLoad&&this.eachOnLoad(e),n())});o.src=t[e]}()}},r.extend({preload:function(n,o){new t(n,o)}})}(jQuery);